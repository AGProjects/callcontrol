
Installation
------------

For Debian testing or unstable there is an official public repository
provided by AG Projects. Install the AG Projects debian software signing
key:

wget http://download.ag-projects.com/agp-debian-gpg.key apt-key add
agp-debian-gpg.key

Add these lines in etc/apt/sources.list

# AG Projects software
deb http://ag-projects.com/debian unstable main
deb-src http://ag-projects.com/debian unstable main

After that, run:

apt-get update
apt-get install callcontrol

For non Debian installations, you must install the following dependencies:

python-application (>= 1.0.9)
python-twisted-core
python-sqlobject

You may run the software from its own directory or install it in a directory
anywhere in the system.


Configuration
-------------

You must setup the following components:

1. OpenSIPS configuration
2. Call Control (this application)
3. CDRTool rating engine


1. OpenSIPS configuration

See the documentation that comes with the OpenSIPS callcontrol module. 


2. Call Control configuration (this application)

The application is searching for its configuration file config.ini in its current
directory and in /etc/callcontrol/config.ini

A sample configuration file is available in config.ini.sample.


3. CDRTool rating engine

See the PREPAID.txt  documentation that comes together with CDRTool.


Logging
-------

Call Control logs all activity to syslog. You may grep for call-control in
syslog. The requests can be correlated with the syslog entries generated by
CDRTool rating engine.


Session overview
----------------

Use the following commands:

/etc/init.d/callcontrol sessions
/etc/init.d/callcontrol session id

